<!DOCTYPE html>
<html>
		
  <head>
    <meta charset="utf-8">
      <title>Moon Test</title>
	<script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
	<script src="https://cdn.rawgit.com/AltspaceVR/aframe-altspace-component/v1.3.0/dist/aframe-altspace-component.min.js"></script>
	<script src="https://sdk.altvr.com/libs/altspace.js/0.26.3/altspace.min.js"></script>
	<script>
	 AFRAME.registerComponent('unfolding-path',
	{
		schema: {
			length: {type: 'int'}
		},
		init: function(){
			var component = this;
			var duration = 500;
			var gap = 0.1;
			var tileWidth = 4;
			//todo meet in middle
			function unfold(){
				var max = component.data.length / tileWidth;
				var i;
				var halfMax = Math.floor(max / 2);
				var secondHalfMax = max - halfMax;
				for(i = 0; i < halfMax; i++){
					console.log(i);
					var z = -i * tileWidth - (tileWidth * gap);
					var section = document.createElement("a-entity");
					component.el.appendChild(section);
					section.setAttribute('rotation', '90 180 0');
					section.setAttribute('position', '-2 -2 0');
					section.setAttribute('scale', '1 1 ' + (1 - gap));
					section.setAttribute('n-object', 'res', 'architecture/floor-4w-4l');
					var animation = document.createElement("a-animation");
					animation.setAttribute('attribute', 'rotation');
					animation.setAttribute('dur', duration);
					animation.setAttribute('to', '0 180 0');
					animation.setAttribute('delay', duration * 0.8 * i);
					animation.setAttribute('easing', 'ease');
					section.appendChild(animation);
					animation = document.createElement("a-animation");
					animation.setAttribute('attribute', 'position');
					animation.setAttribute('dur', duration);
					animation.setAttribute('to', '-2 0 ' + z);
					animation.setAttribute('delay', duration * 0.8 * i);
					animation.setAttribute('easing', 'ease');
					section.appendChild(animation);
				}
				for(var j = 0; j < secondHalfMax; j++){
					console.log(j);
					var z = -(secondHalfMax - j) * tileWidth - (halfMax * tileWidth);
					var section = document.createElement("a-entity");
					component.el.appendChild(section);
					section.setAttribute('rotation', '90 0 0');
					section.setAttribute('position', '2 -2 ' + max * -tileWidth);
					section.setAttribute('scale', '1 1 ' + (1 - gap));
					section.setAttribute('n-object', 'res', 'architecture/floor-4w-4l');
					var animation = document.createElement("a-animation");
					animation.setAttribute('attribute', 'rotation');
					animation.setAttribute('dur', duration);
					animation.setAttribute('to', '0 0 0');
					animation.setAttribute('delay', duration * 0.8 * j);
					animation.setAttribute('easing', 'ease');
					section.appendChild(animation);
					animation = document.createElement("a-animation");
					animation.setAttribute('attribute', 'position');
					animation.setAttribute('dur', duration);
					animation.setAttribute('to', '2 0 ' + z);
					animation.setAttribute('delay', duration * 0.8 * j);
					animation.setAttribute('easing', 'ease');
					section.appendChild(animation);
				}
			}
			function fold(){
				component.el.innerHTML = '';
			}
			component.onStateAdded = function(){
				var state = event.detail.state;
				if (state === "unfolded") {
					unfold();
				}
			}
			component.onStateRemoved = function(){
				var state = event.detail.state;
				if (state === "unfolded") {
					fold();
				}
			}
			this.el.addEventListener('stateadded', component.onStateAdded);
			this.el.addEventListener('stateremoved', component.onStateRemoved);
		}
	});
	</script>	  	  
    </head>
  <body>

    <!-- set up the scene -->
    <a-scene altspace= "fullspace: true" sync-system='author: sven118; app: moontest; refUrl: https://moontest-65076.firebaseio.com; instance: KZPZ9R3_Vsuqhgz3Ynm'>
	    

	    
    <!-- preload all our textures -->
    <a-assets>
        <img id='earth' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/earth.jpg'/>
        <img id='stars' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/stars.jpg'/>
        <img id='moon' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/moon.jpg'/>
        <img id='sun' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/sun.jpg'/>
        <img id='jupiter' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/Jupiter.jpg'/>
        <img id='mars' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/Mars.jpg'/>
        <img id='saturn' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/saturn.jpg'/>
        <img id="ring" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/satring.png">
        <img id='venus' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/venus.jpg'/>
        <img id='mercury' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/mercury.jpg'/>
        <img id='uranus' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/uranus.jpg'/>
        <img id='uranusring' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/uranusring.png'/>
        <img id='neptune' crossorigin src='https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/neptune.jpg'/>
        <img id="floortile" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/floortile.jpg">
	<img id="floor2"crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/floor2.jpg">
	<img id="disco" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/disco.jpg">
        <img id="clouds" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/clouds1.png">
	<img id="rail" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/rail.png">
        <a-asset-item id="ship-obj" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/spaceshiptest1.obj"></a-asset-item>
        <a-asset-item id="ship-mtl" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/spaceshiptest1.mtl"></a-asset-item>
        <a-asset-item id="ring-obj" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/ring.obj"></a-asset-item>
        <a-asset-item id="ring-mtl" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/ring.mtl"></a-asset-item>
	<a-asset-item id="speaker-mtl" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/speaker/speaker.mtl"></a-asset-item>
	<a-asset-item id="speaker-obj" crossorigin src="https://cdn.rawgit.com/Sven118/Svens-Apps/master/moontest-master/moontest/models/speaker/speaker.obj"></a-asset-item>
        </a-assets>

      <!-- Add Planets -->
     <a-sphere id='earth' position='1000 0 500' radius='250' material='src: #earth;' sync-transform>
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='400000' 
		     repeat='indefinite'/>
    </a-sphere>
	    
      <!--Add Moon Orbit -->          
      <a-entity id="earth" geometry="primitive: sphere; radius: 5" 
	material="color: #FFC107"
	position="1000 0 500">
       <a-entity id="moonOrbit" sync-transform>
            <a-animation attribute="rotation"
                 dur="305000"
                 to="0 360 0"
                 repeat="indefinite" 
                 easing="linear"></a-animation>
            <a-entity id="moon" geometry="primitive: sphere; radius: 50" 
		material="src: #moon;"
		position="-1300 50 0"
		n-sphere-collider="type: environment; radius: 50"></a-entity>
            </a-entity>
        </a-entity>
	    
     <!-- Add Cloud Layer to Earth -->
     <a-sphere id='clouds' position='1000 0 500' sync-transform 
	radius='259' 
	transparent='true' 
	opacity="0.7" material='src: #clouds;'
	n-sphere-collider="type: environment; radius: 260" 
	class="not-clickable" 
	altspace-collider="enabled: false">
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='550000'
		     repeat='indefinite'/>
    </a-sphere>
	    
      <a-sphere position='1000 0 500' radius='256' color="#0095FF" opacity="0.25" class="not-clickable" altspace-cursor-collider="enabled: false">
    </a-sphere>
      
     <a-sphere position='0 500 -1500' radius='60' material='src: #jupiter;'
	       n-sphere-collider="type: environment; radius: 60">
        <!-- add an animation to make it rotate -->
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='100000' 
		     repeat='indefinite'/>
      </a-sphere>
      
      <a-sphere position='0 700 2000' radius='50' material='src: #sun;'
		n-sphere-collider="type: environment; radius: 50">
        <!-- add an animation to make it rotate -->
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='20000' 
		     repeat='indefinite'/>
      </a-sphere>
      
      <a-sphere position='400 100 -500' radius='25' material='src: #mars;'
		n-sphere-collider="type: environment; radius: 25">
        <!-- add an animation to make it rotate -->
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='100000' 
		     repeat='indefinite'/>
      </a-sphere>
      
      <a-sphere position='-1000 200 -2000' radius='40' rotation='0 90 0' material='src: #saturn;'
		n-sphere-collider="type: environment; radius: 40">
        <!-- add an animation to make it rotate -->
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='100000' 
		     repeat='indefinite'/>
      </a-sphere>
      
      <a-sphere position='-200 300 700' radius='30' material='src: #venus;'
		n-sphere-collider="type: environment; radius: 30">
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='250000' 
		     repeat='indefinite'/>
      </a-sphere>
	    
      <!-- Add Mercury Orbit -->
      <a-entity id="sun" geometry="primitive: sphere; radius: 1" 
            material="color: #FFC107"
            position='0 700 2000'>
      <a-entity id="mercuryOrbit" sync-transform>
         <a-animation attribute="rotation"
                 dur="100000"
                 to="0 360 0"
                 repeat="indefinite" 
                 easing="linear"></a-animation>
           <a-entity id="mercury" geometry="primitive: sphere; radius: 10" 
              material="src: #mercury;"
              position="60 -30 0"
		n-sphere-collider="type: environment; radius: 10"></a-entity>
           </a-entity>
      </a-entity>
      
      <a-sphere position='2000 -100 -300' radius='20' rotation='0 90 0' material='src: #uranus;'
		n-sphere-collider="type: environment; radius: 20">
        <!-- add an animation to make it rotate -->
        <a-animation to='360 0 0' 
		     easing='linear' 
		     dur='100000' 
		     repeat='indefinite'/>
      </a-sphere>
      
      <a-sphere position='-2000 50 -500' radius='15' rotation='0 90 0' material='src: #neptune;'
		n-sphere-collider="type: environment; radius: 15">
        <!-- add an animation to make it rotate -->
        <a-animation to='0 360 0' 
		     easing='linear' 
		     dur='100000' 
		     repeat='indefinite'/>
      </a-sphere>
            
      <a-box material='src: #floortile; repeat: 32 32' position='0 .005 0' depth="128" height="0" width="128" class="not-clickable" 
            altspace-cursor-collider="enabled: false">
      </a-box>
       
	<!-- Add Planet Rings -->
	<a-ring src="#ring"
	      position='-1000 200 -2000'
	      radius-inner='40'
	      radius-outer='110'
	      transparent='true'
	      side='double'
	      rotation='90 90 45'
	      n-box-collider="type: environment size: 110 .01 110"></a-ring>
      <a-ring src="#uranusring"
	      position='2000 -100 -300'
	      radius-inner='25'
	      radius-outer='50'
	      transparent='true'
	      side='double'
	      rotation='0 45 0'>
      </a-ring>
      
      <!-- Add Spaceship -->
      <a-entity obj-model="obj: #ship-obj; mtl: #ship-mtl" position='0 -35 0' scale='70 70 70'></a-entity>
      <a-entity obj-model="obj: #ring-obj; mtl: #ring-mtl" position='0 -35 0' scale='70 70 70'
		n-mesh-collider="type: environment"
		class="not-clickable" altspace-cursor-collider="enabled: false">
        <a-animation to='0 0 360' 
		     easing='linear' 
		     dur='800000' 
		     repeat='indefinite'/>
      </a-entity>
      
	<!-- Add Skybox -->    
	<a-sky src='#stars' radius='2500' class="not-clickable" altspace-cursor-collider="enabled: false"></a-sky>
	 
	<!-- Add Collider Objects -->
	<a-entity id="lift" geometry="primitive: box;" sync-transform 
           	material='src: #floor2;'
            	position='0 0 18.5'
		scale="3 .1 3"
		rotation='0 90 0'
		n-mesh-collider="type: environment">	
<a-animation attribute="position"
	direction='alternate' 
			     from='0 0 18.5' to='0 15 18.5' 
			     ease-in-out='linear' 
			     dur='10000' 
			     repeat='indefinite'/>
	</a-entity>
	    
	    <a-entity class='platform' position='0 15 40' transparent='true'>
		    
		<a-entity id="platform1" geometry="primitive: box;"
			rotation='0 90 0'
			scale='40 .1 50'
			material='src: #floor2; repeat: 20 25'
            		position='0 0 0'
			n-mesh-collider="type: environment">
	    	</a-entity>
		    
		<a-entity id="rail-1" geometry="primitive:box;"
			transparent='true'
			rotation='0 90 0'
			scale='.05 .5 23.5'
			material='src: #rail; repeat: 23.5 1'
			position= '13.25 .5 -20'
			n-mesh-collider="type: environment">
		</a-entity>
		
		<a-entity id="rail-2" geometry="primitive:box;"
			transparent='true'
			rotation='0 90 0'
			scale='.05 .5 23.5'
			material='src: #rail; repeat: 23.5 1'
			position= '-13.25 .5 -20'
			n-mesh-collider="type: environment">
		</a-entity>
		    
		<a-entity id="rail-3" geometry="primitive:box;"
			transparent='true'
			rotation='0 90 0'
			scale='40 .5 .05'
			material='src: #rail; repeat: 40 1'
			position= '-25 .5 0'
			n-mesh-collider="type: environment">
		</a-entity>
		    
		<a-entity id="rail-4" geometry="primitive:box;"
			transparent='true'
			rotation='0 90 0'
			scale='40 .5 .05'
			material='src: #rail; repeat: 40 1'
			position= '25 .5 0'
			n-mesh-collider="type: environment">
		</a-entity>
		    
		<a-entity id="rail-5" geometry="primitive:box;"
			transparent='true'
			rotation='0 90 0'
			scale='.05 .5 50'
			material='src: #rail; repeat: 50 1'
			position= '0 .5 20'
			n-mesh-collider="type: environment">
		</a-entity>
	</a-entity>
	    
	    
	<a-entity class="Billboard" id='billboard' position="0 0 5" sync-transform>

		<a-entity position='6 1 0' rotation='0 90 0' scale="0.3 0.3 0.3">

			<a-entity position='0 6 -0.6' rotation='0 180 0'
				n-text='text: Welcome; fontSize: 15'></a-entity>
			<a-entity position='0 4 -0.6' rotation='0 180 0'
				n-text='text: to the; fontSize: 7'></a-entity>
			<a-entity position='0 2 -0.6' rotation='0 180 0'
				n-text='text: Observation Deck; fontSize: 13;'></a-entity>
			<a-entity id="backdrop" scale='1.7 1.8 1' position="0 0.5 0">
				<a-entity n-object="res:architecture/wall-4w-4h" rotation="0 90 0" position="0 0 0"></a-entity>
				<a-entity n-object="res:architecture/wall-4w-4h" rotation="0 90 0" position="-4 0 0"></a-entity>
			</a-entity>
		</a-entity> 
		
			<a-animation attribute="position"
			     direction='alternate' 
			     from='0 .5 5' to='0 1.5 5' 
			     ease-in-out='linear' 
			     dur='6000' 
			     repeat='indefinite'/>
                </a-entity>
	    
	 <a-entity class="discoball" position= "0 30 40">
		
		 <a-sphere id='disco-ball' radius= '4' material='src: #disco'>
		  	<a-animation to='0 360 0' 
				     easing='linear' 
				     dur='20000' 
				     repeat='indefinite'/>
		 </a-sphere>
		 	
		 <a-animation attribute="position"
			     direction='alternate' 
			     from='0 29 40' to='0 31 40' 
			     ease='linear' 
			     dur='9000' 
			     repeat='indefinite'/>
	  </a-entity>
	    
	<a-entity id="path1" unfolding-path="length:40" position='8 15 18.5'></a-entity>
		<a-entity id="trigger1" position="8 15 -1.5" n-box-collider="isTrigger:true; type:environment; size: 8 4 47" n-container="capacity:1"
			wire="targets:#path1; gained: container-full; gain: unfolded"
			wire__0="targets:#path1; lost: container-full; lose: unfolded">
	</a-entity>
	    
	<a-entity position='25 15 20' rotation="0 30 30" n-object='res:effects/fireworks'></a-entity>
	<a-entity position='-25 15 20' rotation="0 -30 -30" n-object='res:effects/fireworks'></a-entity>
	<a-entity position='25 15 40' rotation="0 30 30" n-object='res:effects/fireworks'></a-entity>
	<a-entity position='-25 15 40' rotation="0 -30 -30" n-object='res:effects/fireworks'></a-entity>
	 
	    
<a-entity class="discofloor" position= "0 0 0">
	<a-box id="box" position="0 0 0" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="0 0 0"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box; gained: container-full; emit: change-color"
		wire_0="targets:#box; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box2" position="0 0 1" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="0 0 1"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box2; gained: container-full; emit: change-color"
		wire_0="targets:#box2; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box3" position="0 0 2" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="0 0 2"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box3; gained: container-full; emit: change-color"
		wire_0="targets:#box3; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box4" position="0 0 3" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="0 0 3"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box4; gained: container-full; emit: change-color"
		wire_0="targets:#box4; lost: container-full; emit: color-default">
	</a-entity>
	 <a-box id="box5" position="0 0 4" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="0 0 4"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box5; gained: container-full; emit: change-color"
		wire_0="targets:#box5; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box6" position="0 0 5" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="0 0 5"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box6; gained: container-full; emit: change-color"
		wire_0="targets:#box6; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box7" position="1 0 0" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="1 0 0"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box7; gained: container-full; emit: change-color"
		wire_0="targets:#box7; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box8" position="1 0 1" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="1 0 1"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box8; gained: container-full; emit: change-color"
		wire_0="targets:#box8; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box9" position="1 0 2" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="1 0 2"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box9; gained: container-full; emit: change-color"
		wire_0="targets:#box9; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box10" position="1 0 3" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="1 0 3"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box11; gained: container-full; emit: change-color"
		wire_0="targets:#box11; lost: container-full; emit: color-default">
	</a-entity>
	 <a-box id="box11" position="1 0 4" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="1 0 4"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box11; gained: container-full; emit: change-color"
		wire_0="targets:#box11; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box12" position="1 0 5" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="1 0 5"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box12; gained: container-full; emit: change-color"
		wire_0="targets:#box12; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box13" position="2 0 0" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 0"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box13; gained: container-full; emit: change-color"
		wire_0="targets:#box13; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box14" position="2 0 1" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 1"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box14; gained: container-full; emit: change-color"
		wire_0="targets:#box14; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box15" position="2 0 2" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 2"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box15; gained: container-full; emit: change-color"
		wire_0="targets:#box15; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box16" position="2 0 3" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 3"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box16; gained: container-full; emit: change-color"
		wire_0="targets:#box16; lost: container-full; emit: color-default">
	</a-entity>
	 <a-box id="box17" position="2 0 4" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 4"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box17; gained: container-full; emit: change-color"
		wire_0="targets:#box17; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box18" position="2 0 5" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 5"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box18; gained: container-full; emit: change-color"
		wire_0="targets:#box18; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box19" position="2 0 4" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 4"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box20; gained: container-full; emit: change-color"
		wire_0="targets:#box20; lost: container-full; emit: color-default">
	</a-entity>
	<a-box id="box20" position="2 0 5" size='1 .1 1'></a-box>
	<a-entity id="trigger" position="2 0 5"
		n-box-collider="isTrigger:true; type:environment; size: 1 1 1"
		n-container="capacity:1"
		wire="targets:#box20; gained: container-full; emit: change-color"
		wire_0="targets:#box20; lost: container-full; emit: color-default">
	</a-entity>
</a-entity>
 
	    
		


		
	    
  
	<!-- <a-entity obj-model="obj: #speaker-obj; mtl: #speaker-mtl" position='0 0 0' scale='4 4 4'>
	</a-entity> -->
	    
    <!-- add a view camera (2d only) -->
    <a-entity position='0 0 2'>
        <a-camera></a-camera>
    </a-entity>
 
    </a-scene>
	  
<script>
		var setRandomColor = function(el) {
			var getRandColor = function() {
				// creating a random number between 0 and 255
				var r = Math.random();
				var g = Math.random();
				var b = Math.random();
				return new THREE.Color(r, g, b);
			};
			el.setAttribute('material', 'color', getRandColor().getStyle());
		}
		var boxEl = document.querySelector('.discofloor');
		boxEl.addEventListener('change-color', function(event) {
		setRandomColor(event.target);	
		});
		boxEl.addEventListener('color-default', function(event) {
		setRandomColor(event.target);
		event.target.setAttribute('material', 'color', '#fff');
      });
	</script>
	  
  </body>
		
</html>
